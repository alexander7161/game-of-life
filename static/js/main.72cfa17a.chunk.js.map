{"version":3,"sources":["types/game.ts","store/game/logic/utils/countAlive.ts","store/game/selectors.ts","components/Cell/styles.ts","components/Cell/Cell.tsx","components/Cell/CellWithData.tsx","components/Board/styles.ts","components/Board/Board.tsx","components/Layout/styles.ts","components/Layout/Layout.tsx","components/ControlPanel/GameInformation/styles.ts","components/ControlPanel/GameInformation/GameInformationItem.tsx","components/ControlPanel/GameInformation/GameInformation.tsx","components/ControlPanel/styles.ts","store/game/index.ts","store/game/logic/utils/getRandomStatus.ts","store/game/logic/create/createCell.ts","store/game/logic/create/createBoard.ts","store/game/logic/advance/getLiveNeighbours.ts","store/game/logic/advance/advanceBoard.ts","store/game/logic/advance/advanceCell.ts","components/ControlPanel/ToggleGameButton.tsx","components/ControlPanel/ControlPanel.tsx","App.tsx","store/reducers.ts","store/game/sagas/timer.ts","store/game/sagas/index.ts","store/sagas.ts","store/store.ts","index.tsx"],"names":["Status","countAlive","board","reduce","total","row","totalRow","cell","status","Alive","selectGameBoard","state","game","selectCellStatus","x","y","createSelector","selectCell","selectGameActive","active","selectGameBoardSize","size","selectGameInterval","interval","selectAlive","CellContainer","styled","div","css","Dead","Cell","CellWithData","useSelector","BoardContainer","RowContainer","Board","Array","fill","map","_","key","LayoutContainer","Layout","children","List","MuiList","GameInformationItem","title","valueSelector","showDivider","value","ListItem","button","ListItemText","primary","Divider","items","Year","year","Interval","GameInformation","Object","entries","i","keys","length","ControlPanelContainer","getRandomStatus","statuses","Math","floor","random","createCell","Empty","createBoard","NEIGHBOUR_CONSTANTS","getNeighbourCoord","x1","max","newValue","getLiveNeighbours","y1","Number","advanceBoard","c","liveNeighbours","advanceCell","INITIAL_SIZE","window","innerHeight","innerWidth","round","initialState","gameSlice","createSlice","name","reducers","startGame","pauseGame","resetGame","payload","newBoard","advanceGame","actions","reducer","ToggleGameButton","dispatch","useDispatch","Button","onClick","variant","ControlPanel","App","combineReducers","gameReducer","gameTimer","timer","eventChannel","emitter","timerID","setInterval","clearInterval","select","call","chan","take","put","close","fork","timerTask","cancel","TimerSagas","GameSagas","sagaMiddleware","createSagaMiddleware","store","configureStore","middleware","getDefaultMiddleware","immutableCheck","concat","devTools","undefined","run","sagas","render","document","getElementById"],"mappings":"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","file":"static/js/main.72cfa17a.chunk.js","sourcesContent":["export type Board = Cell[][];\n\nexport enum Status {\n  Empty,\n  Alive,\n  Dead,\n}\n\nexport type Cell = {\n  status: Status;\n  x: number;\n  y: number;\n};\n","import { Board, Status } from \"types/game\";\n\nconst countAlive = (board: Board) =>\n  board.reduce(\n    (total, row) =>\n      total +\n      row.reduce(\n        (totalRow, cell) => totalRow + (cell.status === Status.Alive ? 1 : 0),\n        0\n      ),\n    0\n  );\n\nexport default countAlive;\n","import { createSelector } from \"@reduxjs/toolkit\";\nimport { AppState } from \"store/store\";\nimport countAlive from \"./logic/utils/countAlive\";\n\nexport const selectGameBoard = (state: AppState) => state.game.board;\n\nexport const selectCell = (x: number, y: number) =>\n  createSelector(selectGameBoard, (board) => board[x][y]);\n\nexport const selectCellStatus = (x: number, y: number) => (state: AppState) =>\n  selectCell(x, y)(state).status;\n\nexport const selectGameActive = (state: AppState) => state.game.active;\n\nexport const selectGameBoardSize = (state: AppState) => state.game.size;\n\nexport const selectGameInterval = (state: AppState) => state.game.interval;\n\nexport const selectGameYear = (state: AppState) => state.game.year;\n\nexport const selectAlive = createSelector(selectGameBoard, (board) =>\n  countAlive(board)\n);\n","import styled, { css } from \"styled-components\";\nimport { Status } from \"types/game\";\n\nexport const CellContainer = styled.div<{ status: Status }>`\n  height: 10px;\n  width: 10px;\n  ${({ status }) => {\n    switch (status) {\n      case Status.Alive:\n        return css`\n          background-color: green;\n        `;\n      case Status.Dead:\n      default:\n        return css`\n          background-color: white;\n        `;\n    }\n  }}\n`;\n","import React from \"react\";\nimport { CellContainer } from \"./styles\";\nimport { CellProps } from \"./types\";\n\nconst Cell = ({ status }: CellProps) => <CellContainer status={status} />;\n\nexport default Cell;\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\n\nimport { selectCellStatus } from \"store/game/selectors\";\nimport { CellWithDataProps } from \"./types\";\nimport Cell from \"./Cell\";\n\nconst CellWithData = ({ x, y }: CellWithDataProps) => {\n  const status = useSelector(selectCellStatus(x, y));\n  return <Cell status={status} />;\n};\n\nexport default CellWithData;\n","import styled from \"styled-components\";\n\nexport const BoardContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  overflow: scroll;\n`;\n\nexport const RowContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n`;\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\n\nimport Cell from \"components/Cell\";\nimport { selectGameBoardSize } from \"store/game/selectors\";\n\nimport { BoardContainer, RowContainer } from \"./styles\";\n\nconst Board = () => {\n  const size = useSelector(selectGameBoardSize);\n\n  return (\n    <BoardContainer>\n      {new Array(size).fill(null).map((_, x) => (\n        <RowContainer key={x}>\n          {new Array(size).fill(null).map((_, y) => (\n            <Cell key={`${x}${y}`} x={x} y={y} />\n          ))}\n        </RowContainer>\n      ))}\n    </BoardContainer>\n  );\n};\n\nexport default Board;\n","import styled from \"styled-components\";\n\nexport const LayoutContainer = styled.div`\n  height: 100vh;\n  display: grid;\n\n  // Desktop 2 columns\n  @media (min-width: 801px) {\n    grid-template-columns: 1fr minmax(150px, 25%);\n  }\n\n  // Mobile/Tablet 2 rows\n  @media (max-width: 801px) {\n    grid-template-rows: 1fr minmax(100px, 25%);\n  }\n`;\n","import React, { FC } from \"react\";\nimport { LayoutContainer } from \"./styles\";\n\nconst Layout: FC = ({ children }) => (\n  <LayoutContainer>{children}</LayoutContainer>\n);\n\nexport default Layout;\n","import { List as MuiList } from \"@material-ui/core\";\nimport styled from \"styled-components\";\n\nexport const List = styled(MuiList)`\n  && {\n    width: 100%;\n  }\n`;\n","import { Divider, ListItem, ListItemText } from \"@material-ui/core\";\nimport React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { AppState } from \"store\";\n\nexport const GameInformationItem = ({\n  title,\n  valueSelector,\n  showDivider,\n}: {\n  title: string;\n  valueSelector: (state: AppState) => string | number;\n  showDivider: boolean;\n}) => {\n  const value = useSelector(valueSelector);\n  return (\n    <>\n      <ListItem button>\n        <ListItemText primary={`${title}: ${value}`} />\n      </ListItem>\n      {showDivider && <Divider />}\n    </>\n  );\n};\n\nexport default GameInformationItem;\n","import React from \"react\";\n\nimport {\n  selectAlive,\n  selectGameInterval,\n  selectGameYear,\n} from \"store/game/selectors\";\n\nimport { List } from \"./styles\";\nimport GameInformationItem from \"./GameInformationItem\";\n\nconst items = {\n  Year: selectGameYear,\n  Alive: selectAlive,\n  Interval: selectGameInterval,\n};\n\nconst GameInformation = () => (\n  <List>\n    {Object.entries(items).map(([title, valueSelector], i) => (\n      <GameInformationItem\n        key={title}\n        title={title}\n        valueSelector={valueSelector}\n        showDivider={i !== Object.keys(items).length - 1}\n      />\n    ))}\n  </List>\n);\n\nexport default GameInformation;\n","import styled from \"styled-components\";\n\nexport const ControlPanelContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n`;\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { Board } from \"types/game\";\nimport { advanceBoard, createBoard } from \"./logic\";\nimport { GameState } from \"./types\";\n\nconst getInitialSize = (length: number) => Math.round(length / 10);\n\nconst INITIAL_SIZE = getInitialSize(\n  window.innerHeight > window.innerWidth\n    ? window.innerWidth\n    : window.innerHeight\n);\n\nconst INITIAL_INTERVAL = 4;\n\nexport const initialState: GameState = {\n  active: false,\n  board: createBoard(INITIAL_SIZE),\n  year: 0,\n  size: INITIAL_SIZE,\n  interval: INITIAL_INTERVAL,\n};\n\nconst gameSlice = createSlice({\n  name: \"game\",\n  initialState,\n  reducers: {\n    startGame(state) {\n      state.active = true;\n    },\n    pauseGame(state) {\n      state.active = false;\n    },\n    resetGame(\n      state,\n      {\n        payload,\n      }: PayloadAction<\n        { size?: number; interval?: number; board?: Board } | undefined\n      >\n    ) {\n      if (payload?.interval) {\n        state.interval = payload?.interval;\n      }\n      const newBoard =\n        payload?.board ?? createBoard(payload?.size ?? state.size);\n      state.board = newBoard;\n      state.size = newBoard.length;\n    },\n    advanceGame(state) {\n      const { board } = state;\n      state.board = advanceBoard(board);\n      state.year++;\n    },\n  },\n});\nconst { actions, reducer } = gameSlice;\nexport const { advanceGame, startGame, pauseGame } = actions;\nexport default reducer;\n","import { Status } from \"types/game\";\n\nconst getRandomStatus = (statuses: Status[]) =>\n  statuses[Math.floor(Math.random() * statuses.length)] as Status;\n\nexport default getRandomStatus;\n","import { Status, Cell } from \"types/game\";\n\nexport const createCell = ({\n  x,\n  y,\n  status = Status.Empty,\n}: {\n  x: number;\n  y: number;\n  status?: Status;\n}): Cell => ({\n  x,\n  y,\n  status,\n});\n","import { Status } from \"types/game\";\nimport getRandomStatus from \"../utils/getRandomStatus\";\nimport { createCell } from \"./createCell\";\n\nexport const createBoard = (size = 8, status?: Status) =>\n  new Array(size)\n    .fill(null)\n    .map((_, x) =>\n      new Array(size)\n        .fill(null)\n        .map((_, y) =>\n          createCell({\n            x,\n            y,\n            status: status ?? getRandomStatus([Status.Alive, Status.Empty]),\n          })\n        )\n    );\n","import { Cell, Status, Board } from \"types/game\";\n\nconst NEIGHBOUR_CONSTANTS = [\n  [-1, -1],\n  [-1, 0],\n  [-1, 1],\n  [0, -1],\n  [0, 1],\n  [1, 0],\n  [1, 1],\n  [1, -1],\n];\n\nconst isAlive = (cell: Cell): boolean => cell.status === Status.Alive;\n\nconst getNeighbourCoord = (x: number, x1: number, max: number) => {\n  const newValue = x + x1;\n  switch (true) {\n    case newValue === max:\n      return 0;\n    case newValue < 0:\n      return max - 1;\n    default:\n      return newValue;\n  }\n};\n\nexport const getLiveNeighbours = ({ x, y }: Cell, board: Board): number =>\n  NEIGHBOUR_CONSTANTS.reduce((total, [x1, y1]) => {\n    const max = board.length;\n    return (\n      total +\n      Number(\n        isAlive(\n          board[getNeighbourCoord(x, x1, max)][getNeighbourCoord(y, y1, max)]\n        )\n      )\n    );\n  }, 0);\n","import { Board } from \"types/game\";\nimport { advanceCell } from \"./advanceCell\";\n\nexport const advanceBoard = (board: Board): Board =>\n  board.map((row) => row.map((c) => advanceCell(c, board)));\n","import { Cell, Status, Board } from \"types/game\";\nimport { createCell } from \"../create/createCell\";\nimport { getLiveNeighbours } from \"./getLiveNeighbours\";\n\nexport const advanceCell = (cell: Cell, board: Board): Cell => {\n  const liveNeighbours = getLiveNeighbours(cell, board);\n  const { x, y } = cell;\n  if (cell.status === Status.Alive) {\n    switch (true) {\n      case liveNeighbours < 2:\n        return createCell({ x, y, status: Status.Dead });\n      case liveNeighbours > 3:\n        return createCell({ x, y, status: Status.Dead });\n      default:\n        return createCell({ ...cell });\n    }\n  } else {\n    switch (true) {\n      case liveNeighbours === 3:\n        return createCell({ x, y, status: Status.Alive });\n      default:\n        return createCell({ ...cell });\n    }\n  }\n};\n","import React from \"react\";\nimport { Button } from \"@material-ui/core\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { pauseGame, startGame } from \"store/game\";\nimport { selectGameActive } from \"store/game/selectors\";\n\nconst ToggleGameButton = () => {\n  const dispatch = useDispatch();\n  const active = useSelector(selectGameActive);\n\n  return (\n    <Button\n      onClick={() => dispatch(active ? pauseGame() : startGame())}\n      size=\"large\"\n      variant=\"contained\"\n    >\n      {active ? \"Pause\" : \"Start\"}\n    </Button>\n  );\n};\n\nexport default ToggleGameButton;\n","import React from \"react\";\n\nimport GameInformation from \"./GameInformation\";\nimport { ControlPanelContainer } from \"./styles\";\nimport ToggleGameButton from \"./ToggleGameButton\";\n\nconst ControlPanel = () => (\n  <ControlPanelContainer>\n    <GameInformation />\n    <ToggleGameButton />\n  </ControlPanelContainer>\n);\n\nexport default ControlPanel;\n","import React from \"react\";\n\nimport Board from \"components/Board\";\nimport Layout from \"components/Layout\";\nimport ControlPanel from \"components/ControlPanel\";\n\nconst App = () => (\n  <Layout>\n    <Board />\n    <ControlPanel />\n  </Layout>\n);\n\nexport default App;\n","import { combineReducers } from \"@reduxjs/toolkit\";\n\nimport gameReducer from \"./game\";\n\nconst reducer = combineReducers({\n  game: gameReducer,\n});\n\nexport type AppState = ReturnType<typeof reducer>;\n\nexport default reducer;\n","import { eventChannel } from \"redux-saga\";\nimport { call, cancel, fork, put, select, take } from \"redux-saga/effects\";\nimport { advanceGame, startGame, pauseGame } from \"..\";\nimport { selectGameInterval } from \"../selectors\";\n\nconst timer = (interval: number) =>\n  eventChannel((emitter) => {\n    const timerID = setInterval(() => emitter(\"\"), interval);\n    return () => {\n      clearInterval(timerID);\n    };\n  });\n\nexport function* gameTimer() {\n  const interval = yield select(selectGameInterval);\n  const chan = yield call(timer, interval);\n  try {\n    while (true) {\n      yield take(chan);\n      yield put(advanceGame());\n    }\n  } finally {\n    chan.close();\n  }\n}\n\nexport default function* () {\n  while (yield take(startGame)) {\n    const timerTask = yield fork(gameTimer);\n    yield take(pauseGame);\n    yield cancel(timerTask);\n  }\n}\n","import { fork } from \"redux-saga/effects\";\nimport TimerSagas from \"./timer\";\n\nexport default function* () {\n  yield fork(TimerSagas);\n}\n","import { fork } from \"redux-saga/effects\";\n\nimport GameSagas from \"./game/sagas\";\n\nexport default function* () {\n  yield fork(GameSagas);\n}\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport createSagaMiddleware from \"redux-saga\";\n\nimport reducer, { AppState } from \"./reducers\";\nimport sagas from \"./sagas\";\n\nconst sagaMiddleware = createSagaMiddleware();\n\nconst store = configureStore({\n  reducer,\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware({ immutableCheck: false }).concat(sagaMiddleware),\n  devTools:\n    process.env.NODE_ENV !== \"production\"\n      ? { actionsBlacklist: [\"game/advanceGame\"] }\n      : undefined,\n});\n\nsagaMiddleware.run(sagas);\n\nexport type { AppState };\nexport default store;\n","import React from \"react\";\nimport { render } from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport \"normalize.css\";\n\nimport App from \"./App\";\nimport store from \"./store\";\n\nrender(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}